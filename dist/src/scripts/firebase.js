import{initializeApp}from"firebase/app";import{getFirestore,collection,query,where,getDocs,addDoc,setDoc,doc}from"firebase/firestore";import{getAuth}from"firebase/auth";const firebaseApp=initializeApp({apiKey:"AIzaSyCFqdrDM-UZh8mOj12_AbdYu8qvzJE9Z5M",authDomain:"personal-test-81fe1.firebaseapp.com",databaseURL:"https://personal-test-81fe1-default-rtdb.firebaseio.com",projectId:"personal-test-81fe1",storageBucket:"personal-test-81fe1.appspot.com",messagingSenderId:"175534480516",appId:"1:175534480516:web:9cf8b0971d6ff0cfc6f6d1",measurementId:"G-BZQJ4NKXGQ"}),auth=getAuth(firebaseApp);console.log("firebaseapp is initialized");const db=getFirestore(firebaseApp);console.log("firestoredb is connected ");const colRef=collection(db,"db-test1");async function add_data(e,t){console.log(t),await setDoc(doc(colRef,e),{user_id:e,tabs:t}),console.log("data added")}function send_data_to_firebase(){console.log("send_data_to_firebase function is called");var e="";chrome.storage.local.get("tabs",(function(t){void 0!==t.tabs&&(e=t.tabs[0].url);var o=auth.userId;(new Date).getTime(),add_data(o,e)}))}console.log("firestore collection is fetched "),chrome.runtime.onMessage.addListener((function(e,t,o){"SendIt"==e.action&&(send_data_to_firebase(),o({farewell:"goodbye"}))}));export{auth};