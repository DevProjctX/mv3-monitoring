import{initializeApp}from"firebase/app";import{getFirestore,collection,query,where,getDocs,addDoc,setDoc,serverTimestamp}from"firebase/firestore";import{getAuth}from"firebase/auth";const firebaseApp=initializeApp({apiKey:"AIzaSyCFqdrDM-UZh8mOj12_AbdYu8qvzJE9Z5M",authDomain:"personal-test-81fe1.firebaseapp.com",databaseURL:"https://personal-test-81fe1-default-rtdb.firebaseio.com",projectId:"personal-test-81fe1",storageBucket:"personal-test-81fe1.appspot.com",messagingSenderId:"175534480516",appId:"1:175534480516:web:9cf8b0971d6ff0cfc6f6d1",measurementId:"G-BZQJ4NKXGQ"}),auth=getAuth(firebaseApp);console.log("firebaseapp is initialized");const firestore=getFirestore(firebaseApp);console.log("firestoredb is connected ");const colRef=collection(firestore,"db-test1");async function add_data(e,t){return await addDoc(collection(firestore,"db-test1"),{user_id:e,tabs:t,timeStamp:serverTimestamp()})}function send_data_to_firebase(){console.log("send_data_to_firebase function is called");var e="";chrome.storage.local.get("tabs",(function(t){void 0!==t.tabs&&(e=t.tabs[0].url);var a=auth.userId;(new Date).getTime(),add_data(a,e)}))}console.log("firestore collection is fetched "),chrome.runtime.onMessage.addListener((function(e,t,a){"SendIt"==e.action&&(send_data_to_firebase(),a({farewell:"goodbye"}))}));export{auth,firestore,add_data};